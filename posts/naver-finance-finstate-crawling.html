<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="ko">
<head>
<meta charset="utf-8">
<meta name="description" content="네이버 파이낸스 사이트에서 재무제표 크롤링">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>네이버 파이낸스 - 재무제표 크롤링 | FinanceData</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="https://financedata.github.com/posts/naver-finance-finstate-crawling.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="author" content="plusjune">
<link rel="prev" href="jupyter-notebook-authentication.html" title="[FAQ] Jupyter Notebook 실행시 토큰을 입력하라고 나옵니다" type="text/html">
<link rel="next" href="dataframe-extract-rows-and-concat-as-column.html" title="[FAQ] (Daum부동산) DataFrame 행 추출과 컬럼으로 합치기" type="text/html">
<meta property="og:site_name" content="FinanceData">
<meta property="og:title" content="네이버 파이낸스 - 재무제표 크롤링">
<meta property="og:url" content="https://financedata.github.com/posts/naver-finance-finstate-crawling.html">
<meta property="og:description" content="네이버 파이낸스 사이트에서 재무제표 크롤링">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-02-25T02:30:35+09:00">
<meta property="article:tag" content="crawling">
<meta property="article:tag" content="naver">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">주 콘텐츠로 바로가기</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://financedata.github.com/">
                <img src="https://i.imgur.com/1xnFMui.png" alt="FinanceData" id="logo"><span id="blog-title">FinanceData</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../index.html">홈</a>
                </li>
<li>
<a href="../archive.html">저장소</a>
                </li>
<li>
<a href="../categories/cat_faq.html">FAQ</a>
                </li>
<li>
<a href="../categories/">태그</a>
                </li>
<li>
<a href="../rss.xml">RSS 목록</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="naver-finance-finstate-crawling.ipynb" id="sourcelink">원문</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">네이버 파이낸스 - 재무제표 크롤링</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    plusjune
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2017-02-25T02:30:35+09:00" itemprop="datePublished" title="2017-02-25 02:30">2017-02-25 02:30</time></a></p>
                <p class="commentline">
        
    <a href="naver-finance-finstate-crawling.html#disqus_thread" data-disqus-identifier="cache/posts/네이버 파이낸스 - 재무제표 크롤링.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="naver-finance-finstate-crawling.ipynb" class="sourcelink">원문</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="네이버-파이낸스---재무제표-크롤링">네이버 파이낸스 - 재무제표 크롤링<a class="anchor-link" href="naver-finance-finstate-crawling.html#%EB%84%A4%EC%9D%B4%EB%B2%84-%ED%8C%8C%EC%9D%B4%EB%82%B8%EC%8A%A4---%EC%9E%AC%EB%AC%B4%EC%A0%9C%ED%91%9C-%ED%81%AC%EB%A1%A4%EB%A7%81">¶</a>
</h2>
<p><img src="http://i.imgur.com/9xZ5t2P.png"></p>
<h5 id="2016-이승준-fb.com/plusjune">2016 이승준 fb.com/plusjune<a class="anchor-link" href="naver-finance-finstate-crawling.html#2016-%EC%9D%B4%EC%8A%B9%EC%A4%80-fb.com/plusjune">¶</a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="네이버-파이낸스-크롤링">네이버 파이낸스 크롤링<a class="anchor-link" href="naver-finance-finstate-crawling.html#%EB%84%A4%EC%9D%B4%EB%B2%84-%ED%8C%8C%EC%9D%B4%EB%82%B8%EC%8A%A4-%ED%81%AC%EB%A1%A4%EB%A7%81">¶</a>
</h2>
<p>파이썬으로 데이터 크롤링 할 때 requests 와 BeautifulSoup 를 많이 사용한다. 표(table)로 정리된 데이터의 경우 pandas의 read_html()을 활용하면 간편하게 크롤링 할 수 있는 경우가 많다. 이 글에서는 네이버 파이낸스의 페이지 구조를 파악하고, 재무제표 정보를 pandas DataFrame으로 읽어 처리하는 방법을 살펴본다. <!-- TEASER_END --> 종목별 예제로는 삼성전자(005930)을 사용한다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="페이지-구성">페이지 구성<a class="anchor-link" href="naver-finance-finstate-crawling.html#%ED%8E%98%EC%9D%B4%EC%A7%80-%EA%B5%AC%EC%84%B1">¶</a>
</h2>
<p><a href="http://finance.naver.com">네이버 파이낸스</a>에서 005930(삼성전자) 종목의 재무제표 정보 페이지의 구성을 단계별로 살펴보자. (이 구성은 크롬 혹은 파이어폭스의 개발자 도구로 살펴볼 수 있다)</p>
<h3 id="1)-종목정보">1) 종목정보<a class="anchor-link" href="naver-finance-finstate-crawling.html#1)-%EC%A2%85%EB%AA%A9%EC%A0%95%EB%B3%B4">¶</a>
</h3>
<p>아래 링크에서 종목정보를 볼 수 있다.</p>
<ul>
<li><a href="http://finance.naver.com/item/coinfo.nhn?code=005930">http://finance.naver.com/item/coinfo.nhn?code=005930</a></li>
<li>페이지 아래 부분 "Financial Summary" 영역에 재무제표가 있는데 iframe으로 구성되어 있다.</li>
</ul>
<h3 id="2)-Financial-Summary-영역">2) Financial Summary 영역<a class="anchor-link" href="naver-finance-finstate-crawling.html#2)-Financial-Summary-%EC%98%81%EC%97%AD">¶</a>
</h3>
<p>iframe 의 src 링크는 아래와 같이 구성되어 있다.</p>
<ul>
<li><a href="http://companyinfo.stock.naver.com/v1/company/c1010001.aspx?cmp_cd=005930&amp;target=finsum_more">http://companyinfo.stock.naver.com/v1/company/c1010001.aspx?cmp_cd=005930&amp;target=finsum_more</a></li>
<li>실제 내용은 JavaScript가 HTML 문서를 가져와 붙이도록 되어 있다</li>
</ul>
<h3 id="3)-재무제표">3) 재무제표<a class="anchor-link" href="naver-finance-finstate-crawling.html#3)-%EC%9E%AC%EB%AC%B4%EC%A0%9C%ED%91%9C">¶</a>
</h3>
<p>JavaScript가 요청하는 URL은 아래와 같다.</p>
<ul>
<li><a href="http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?cmp_cd=005930&amp;fin_typ=0&amp;freq_typ=Y">http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?cmp_cd=005930&amp;fin_typ=0&amp;freq_typ=Y</a></li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="http://i.imgur.com/eDBaYUR.png"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>네이버 파이낸스에서 재무제표 데이터를 크롤링 하기 위해 알아야 할 정보는 아래 URL이 전부다.</p>
<p><a href="http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?cmp_cd=105560&amp;fin_typ=0&amp;freq_typ=Y">http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?cmp_cd=105560&amp;fin_typ=0&amp;freq_typ=Y</a></p>
<p>URL을 구성하는 파라미터의 의미는 다음과 같다.</p>
<table>
<thead><tr>
<th>인자</th>
<th>의미</th>
<th>값</th>
</tr></thead>
<tbody>
<tr>
<td>cmp_cd</td>
<td>종목코드</td>
<td>005930 (종목코드)</td>
</tr>
<tr>
<td>fin_typ</td>
<td>재무제표 타입</td>
<td>0: 주재무제표, 1: GAAP개별, 2: GAAP연결, 3: IFRS별도, 4:IFRS연결</td>
</tr>
<tr>
<td>freq_typ</td>
<td>기간</td>
<td>Y:년, Q:분기</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="pandas.read_html-활용한-크롤링">pandas.read_html 활용한 크롤링<a class="anchor-link" href="naver-finance-finstate-crawling.html#pandas.read_html-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%81%AC%EB%A1%A4%EB%A7%81">¶</a>
</h2>
<p>pandas.read_html(url)은 HTML 페이지에 포함된 TABLE들을 DataFrame 의 리스트로 반환한다. 우리가 사용하는 재무제표 URL 페이지는 1개의 TABLE만을 가지고 있기 때문에 첫번째 [0] 요소가 바로 재무제표 정보를 담은 DataFrame이 된다.</p>
<p>pd.set_option('display.float_format', '{:,.1f}'.format)</p>
<p>DataFrame 을 화면에 표시할 때 보기 좋도록 하기 위한 것이다. 천 단위에 ',' 표시와 소수점 이하 1자리를 표시하도록 했다. 쓰지 않더라고 아무런 지장은 없다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">url_tmpl</span> <span class="o">=</span> <span class="s1">'http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?cmp_cd=</span><span class="si">%s</span><span class="s1">&amp;fin_typ=</span><span class="si">%s</span><span class="s1">&amp;freq_typ=</span><span class="si">%s</span><span class="s1">'</span>
<span class="n">url</span> <span class="o">=</span> <span class="n">url_tmpl</span> <span class="o">%</span> <span class="p">(</span><span class="s1">'005930'</span><span class="p">,</span> <span class="s1">'4'</span><span class="p">,</span> <span class="s1">'Y'</span><span class="p">)</span> <span class="c1"># 삼성전자, 4(IFRS 연결), Y:년 단위</span>

<span class="n">dfs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'주요재무정보'</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># 10개 항목만 표시(실제 32개 항목)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[2]:</div>


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
      <th>연간</th>
      <th>2011/12
									
									(IFRS연결)</th>
      <th>2012/12
									
									(IFRS연결)</th>
      <th>2013/12
									
									(IFRS연결)</th>
      <th>2014/12
									
									(IFRS연결)</th>
      <th>2015/12
									
									(IFRS연결)</th>
      <th>2016/12(E)
									
									(IFRS연결)</th>
      <th>2017/12(E)
									
									(IFRS연결)</th>
      <th>2018/12(E)
									
									(IFRS연결)</th>
    </tr>
<tr>
<th>주요재무정보</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
</thead>
<tbody>
<tr>
<th>매출액</th>
      <td>1650018</td>
      <td>2011036</td>
      <td>2286927</td>
      <td>2062060</td>
      <td>2006535</td>
      <td>2004675</td>
      <td>2208352</td>
      <td>2331110</td>
      <td>NaN</td>
    </tr>
<tr>
<th>영업이익</th>
      <td>156443</td>
      <td>290493</td>
      <td>367850</td>
      <td>250251</td>
      <td>264134</td>
      <td>282505</td>
      <td>411526</td>
      <td>438342</td>
      <td>NaN</td>
    </tr>
<tr>
<th>세전계속사업이익</th>
      <td>171919</td>
      <td>299150</td>
      <td>383643</td>
      <td>278750</td>
      <td>259610</td>
      <td>296454</td>
      <td>424088</td>
      <td>452837</td>
      <td>NaN</td>
    </tr>
<tr>
<th>당기순이익</th>
      <td>137590</td>
      <td>238453</td>
      <td>304748</td>
      <td>233944</td>
      <td>190601</td>
      <td>220057</td>
      <td>314203</td>
      <td>335387</td>
      <td>NaN</td>
    </tr>
<tr>
<th>당기순이익(지배)</th>
      <td>133826</td>
      <td>231854</td>
      <td>298212</td>
      <td>230825</td>
      <td>186946</td>
      <td>217184</td>
      <td>310029</td>
      <td>330858</td>
      <td>NaN</td>
    </tr>
<tr>
<th>당기순이익(비지배)</th>
      <td>3764</td>
      <td>6599</td>
      <td>6535</td>
      <td>3119</td>
      <td>3655</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>자산총계</th>
      <td>1558003</td>
      <td>1810716</td>
      <td>2140750</td>
      <td>2304230</td>
      <td>2421795</td>
      <td>2552193</td>
      <td>2827016</td>
      <td>3099505</td>
      <td>NaN</td>
    </tr>
<tr>
<th>부채총계</th>
      <td>544866</td>
      <td>595914</td>
      <td>640590</td>
      <td>623348</td>
      <td>631197</td>
      <td>648497</td>
      <td>691565</td>
      <td>715024</td>
      <td>NaN</td>
    </tr>
<tr>
<th>자본총계</th>
      <td>1013136</td>
      <td>1214802</td>
      <td>1500160</td>
      <td>1680882</td>
      <td>1790598</td>
      <td>1900904</td>
      <td>2136128</td>
      <td>2385824</td>
      <td>NaN</td>
    </tr>
<tr>
<th>자본총계(지배)</th>
      <td>970904</td>
      <td>1170941</td>
      <td>1444426</td>
      <td>1621817</td>
      <td>1728768</td>
      <td>1838676</td>
      <td>2074968</td>
      <td>2319315</td>
      <td>NaN</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>단, 5줄의 코드로 삼성전자 재무제표를 크롤링 했다! (의외로 이렇게 크롤링 할 수 있는 정보들이 꽤 많다)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="문제점과-해결방안">문제점과 해결방안<a class="anchor-link" href="naver-finance-finstate-crawling.html#%EB%AC%B8%EC%A0%9C%EC%A0%90%EA%B3%BC-%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88">¶</a>
</h2>
<p>표시된 DataFrame을 자세히 살펴보면 아래와 같은 문제점들이 있다. (대부분 네이버 파이낸스 페이지의 HTML TABLE 표현의 문제다)</p>
<h4 id="문제점">문제점<a class="anchor-link" href="naver-finance-finstate-crawling.html#%EB%AC%B8%EC%A0%9C%EC%A0%90">¶</a>
</h4>
<ol>
<li>'연간'이른 컬럼명이 추가되었고, 컬럼 이름이 한 컬럼씩 오른쪽으로 밀렸다. </li>
<li>마지막 컬럼의 값이 NaN 값 (컬럼 이름이 밀려서 발생)</li>
<li>날짜에 "(IFRS연결)"와 같이 불필요한 문자열 포함하고 있다.</li>
<li>시계열 데이터로 처리하려면, '주요재무정보'가 컬럼이 되고 날짜가 행(row)가 되는 것이 편리하다.</li>
</ol>
<h4 id="각-문제에-대한-해결방안">각 문제에 대한 해결방안<a class="anchor-link" href="naver-finance-finstate-crawling.html#%EA%B0%81-%EB%AC%B8%EC%A0%9C%EC%97%90-%EB%8C%80%ED%95%9C-%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88">¶</a>
</h4>
<ol>
<li>컬럼명 '연간' 삭제</li>
<li>컬럼 문자열에서 날짜(년, 월)만 추출 (정규식 사용)</li>
<li>마지막 컬럼 삭제</li>
<li>컬럼과 로우를 전환 (df.T) 한다 (transpose 우리말로 전치행렬 이라고 한다)</li>
</ol>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.-컬럼명-'연간'-삭제">1. 컬럼명 '연간' 삭제<a class="anchor-link" href="naver-finance-finstate-crawling.html#1.-%EC%BB%AC%EB%9F%BC%EB%AA%85-'%EC%97%B0%EA%B0%84'-%EC%82%AD%EC%A0%9C">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 리스트로 전환</span>
<span class="n">cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
<span class="n">cols</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[3]:</div>



<div class="output_text output_subarea output_execute_result">
<pre>['연간',
 '\n\t\t\t\t\t\t\t\t\t2011/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2012/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2013/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2014/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2015/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2016/12(E)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2017/12(E)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2018/12(E)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t']</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cols</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">'연간'</span><span class="p">)</span>
<span class="n">cols</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>



<div class="output_text output_subarea output_execute_result">
<pre>['\n\t\t\t\t\t\t\t\t\t2011/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2012/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2013/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2014/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2015/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2016/12(E)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2017/12(E)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t',
 '\n\t\t\t\t\t\t\t\t\t2018/12(E)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t']</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2.-컬럼-문자열에서-날짜(년,-월)-추출">2. 컬럼 문자열에서 날짜(년, 월) 추출<a class="anchor-link" href="naver-finance-finstate-crawling.html#2.-%EC%BB%AC%EB%9F%BC-%EB%AC%B8%EC%9E%90%EC%97%B4%EC%97%90%EC%84%9C-%EB%82%A0%EC%A7%9C(%EB%85%84,-%EC%9B%94)-%EC%B6%94%EC%B6%9C">¶</a>
</h2>
<p>컬럼은 날짜 데이터이다. 그러나 불필요한 문자('\n', '\t', '(IFRS연결)' 등)이 포함되어 있다. 추후 Datetime으로 활용하기 위해 날짜에 해당하는 문자열만 추출해 보자.</p>

<pre><code>'\n\t\t\t\t\t\t\t\t\t2011/12\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t(IFRS연결)\n\t\t\t\t\t\t\t\t'</code></pre>
<p>위 문자열에서 '2011/12' 문자열만 추출하기 위해 아래와 같은 코드를 사용할 수 도 있겠지만,</p>
<div class="highlight"><pre><span></span><span class="n">date_str</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'</span><span class="se">\t</span><span class="s1">'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
    <span class="n">date_str</span> <span class="o">=</span> <span class="n">date_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'(E)'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
    <span class="n">date_str</span> <span class="o">=</span> <span class="n">date_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">)</span>
    <span class="n">date_str</span> <span class="o">=</span> <span class="n">date_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">')'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
</pre></div>
<p>정규식(regular expression)을 사용하는 것이 훨씬 깔끔하고 적응력이 좋아진다. 
날짜 추출에 필요한 정규식을 만들어 보자.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>

<span class="n">s</span> <span class="o">=</span>  <span class="s1">'</span><span class="se">\n\t\t\t\t\t\t\t\t\t</span><span class="s1">2011/12</span><span class="se">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</span><span class="s1">(IFRS연결)</span><span class="se">\n\t\t\t\t\t\t\t\t</span><span class="s1">'</span>

<span class="n">date_str</span> <span class="o">=</span> <span class="s1">''</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">"\d</span><span class="si">{4}</span><span class="s2">/\d</span><span class="si">{2}</span><span class="s2">"</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="k">if</span> <span class="n">r</span><span class="p">:</span>
    <span class="n">date_str</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>

<span class="n">date_str</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>



<div class="output_text output_subarea output_execute_result">
<pre>'2011/12'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>날짜를 추출하는 내용을 함수로 만들어 컬럼 이름에 적용한다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>

<span class="k">def</span> <span class="nf">get_date_str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">date_str</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">"\d</span><span class="si">{4}</span><span class="s2">/\d</span><span class="si">{2}</span><span class="s2">"</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="p">:</span>
        <span class="n">date_str</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
        <span class="n">date_str</span> <span class="o">=</span> <span class="n">date_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">date_str</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>이 함수를 사용하여 아래와 같이 모든 컬럼에서 날짜에 해당하는 문자열을 추출할 수 있다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_date_str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span>
<span class="n">cols</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[7]:</div>



<div class="output_text output_subarea output_execute_result">
<pre>['2011-12',
 '2012-12',
 '2013-12',
 '2014-12',
 '2015-12',
 '2016-12',
 '2017-12',
 '2018-12']</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.-마지막-컬럼-제외">3. 마지막 컬럼 제외<a class="anchor-link" href="naver-finance-finstate-crawling.html#3.-%EB%A7%88%EC%A7%80%EB%A7%89-%EC%BB%AC%EB%9F%BC-%EC%A0%9C%EC%99%B8">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[8]:</div>


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
      <th>연간</th>
      <th>2011/12
									
									(IFRS연결)</th>
      <th>2012/12
									
									(IFRS연결)</th>
      <th>2013/12
									
									(IFRS연결)</th>
      <th>2014/12
									
									(IFRS연결)</th>
      <th>2015/12
									
									(IFRS연결)</th>
      <th>2016/12(E)
									
									(IFRS연결)</th>
      <th>2017/12(E)
									
									(IFRS연결)</th>
    </tr>
<tr>
<th>주요재무정보</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
</thead>
<tbody>
<tr>
<th>매출액</th>
      <td>1650018</td>
      <td>2011036</td>
      <td>2286927</td>
      <td>2062060</td>
      <td>2006535</td>
      <td>2004675</td>
      <td>2208352</td>
      <td>2331110</td>
    </tr>
<tr>
<th>영업이익</th>
      <td>156443</td>
      <td>290493</td>
      <td>367850</td>
      <td>250251</td>
      <td>264134</td>
      <td>282505</td>
      <td>411526</td>
      <td>438342</td>
    </tr>
<tr>
<th>세전계속사업이익</th>
      <td>171919</td>
      <td>299150</td>
      <td>383643</td>
      <td>278750</td>
      <td>259610</td>
      <td>296454</td>
      <td>424088</td>
      <td>452837</td>
    </tr>
<tr>
<th>당기순이익</th>
      <td>137590</td>
      <td>238453</td>
      <td>304748</td>
      <td>233944</td>
      <td>190601</td>
      <td>220057</td>
      <td>314203</td>
      <td>335387</td>
    </tr>
<tr>
<th>당기순이익(지배)</th>
      <td>133826</td>
      <td>231854</td>
      <td>298212</td>
      <td>230825</td>
      <td>186946</td>
      <td>217184</td>
      <td>310029</td>
      <td>330858</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 컬럼이름 변경</span>

<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[9]:</div>


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
      <th>2011-12</th>
      <th>2012-12</th>
      <th>2013-12</th>
      <th>2014-12</th>
      <th>2015-12</th>
      <th>2016-12</th>
      <th>2017-12</th>
      <th>2018-12</th>
    </tr>
<tr>
<th>주요재무정보</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
</thead>
<tbody>
<tr>
<th>매출액</th>
      <td>1650018</td>
      <td>2011036</td>
      <td>2286927</td>
      <td>2062060</td>
      <td>2006535</td>
      <td>2004675</td>
      <td>2208352</td>
      <td>2331110</td>
    </tr>
<tr>
<th>영업이익</th>
      <td>156443</td>
      <td>290493</td>
      <td>367850</td>
      <td>250251</td>
      <td>264134</td>
      <td>282505</td>
      <td>411526</td>
      <td>438342</td>
    </tr>
<tr>
<th>세전계속사업이익</th>
      <td>171919</td>
      <td>299150</td>
      <td>383643</td>
      <td>278750</td>
      <td>259610</td>
      <td>296454</td>
      <td>424088</td>
      <td>452837</td>
    </tr>
<tr>
<th>당기순이익</th>
      <td>137590</td>
      <td>238453</td>
      <td>304748</td>
      <td>233944</td>
      <td>190601</td>
      <td>220057</td>
      <td>314203</td>
      <td>335387</td>
    </tr>
<tr>
<th>당기순이익(지배)</th>
      <td>133826</td>
      <td>231854</td>
      <td>298212</td>
      <td>230825</td>
      <td>186946</td>
      <td>217184</td>
      <td>310029</td>
      <td>330858</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="4.-컬럼과-로우-전환">4. 컬럼과 로우 전환<a class="anchor-link" href="naver-finance-finstate-crawling.html#4.-%EC%BB%AC%EB%9F%BC%EA%B3%BC-%EB%A1%9C%EC%9A%B0-%EC%A0%84%ED%99%98">¶</a>
</h2>
<p>DataFrame.T (transpose, 전치행열)를 사용하면 행, 열이 전환된 DataFrame을 구할 수 있다. 시간을 인덱스로하여 시계열 데이터로 만드는 것이 데이터 분석과 시각화에 유리하다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dft</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">T</span>

<span class="c1"># 첫번째 컬럼 이름을 data로 변경</span>
<span class="n">dft</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">'주요재무정보'</span><span class="p">:</span><span class="s1">'date'</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># 인덱스를 날짜형식(datetime)으로 변환</span>
<span class="n">dft</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dft</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># 필요한 컬럼만 출력해 본다</span>
<span class="n">dft</span><span class="p">[[</span><span class="s1">'매출액'</span><span class="p">,</span> <span class="s1">'당기순이익'</span><span class="p">,</span> <span class="s1">'부채총계'</span><span class="p">,</span> <span class="s1">'PER(배)'</span> <span class="p">,</span> <span class="s1">'PBR(배)'</span><span class="p">,</span> <span class="s1">'현금배당수익률'</span><span class="p">]]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[10]:</div>


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th>주요재무정보</th>
      <th>매출액</th>
      <th>당기순이익</th>
      <th>부채총계</th>
      <th>PER(배)</th>
      <th>PBR(배)</th>
      <th>현금배당수익률</th>
    </tr></thead>
<tbody>
<tr>
<th>2011-12-01</th>
      <td>1650018</td>
      <td>137590</td>
      <td>544866</td>
      <td>13.45</td>
      <td>1.64</td>
      <td>0.52</td>
    </tr>
<tr>
<th>2012-12-01</th>
      <td>2011036</td>
      <td>238453</td>
      <td>595914</td>
      <td>11.17</td>
      <td>1.96</td>
      <td>0.53</td>
    </tr>
<tr>
<th>2013-12-01</th>
      <td>2286927</td>
      <td>304748</td>
      <td>640590</td>
      <td>7.83</td>
      <td>1.43</td>
      <td>1.04</td>
    </tr>
<tr>
<th>2014-12-01</th>
      <td>2062060</td>
      <td>233944</td>
      <td>623348</td>
      <td>9.78</td>
      <td>1.23</td>
      <td>1.51</td>
    </tr>
<tr>
<th>2015-12-01</th>
      <td>2006535</td>
      <td>190601</td>
      <td>631197</td>
      <td>11.47</td>
      <td>1.06</td>
      <td>1.67</td>
    </tr>
<tr>
<th>2016-12-01</th>
      <td>2004675</td>
      <td>220057</td>
      <td>648497</td>
      <td>13.60</td>
      <td>1.37</td>
      <td>1.56</td>
    </tr>
<tr>
<th>2017-12-01</th>
      <td>2208352</td>
      <td>314203</td>
      <td>691565</td>
      <td>9.94</td>
      <td>1.28</td>
      <td>1.66</td>
    </tr>
<tr>
<th>2018-12-01</th>
      <td>2331110</td>
      <td>335387</td>
      <td>715024</td>
      <td>9.31</td>
      <td>1.15</td>
      <td>1.77</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 컬럼 확인</span>

<span class="n">dft</span><span class="o">.</span><span class="n">columns</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[11]:</div>



<div class="output_text output_subarea output_execute_result">
<pre>Index(['매출액', '영업이익', '세전계속사업이익', '당기순이익', '당기순이익(지배)', '당기순이익(비지배)', '자산총계',
       '부채총계', '자본총계', '자본총계(지배)', '자본총계(비지배)', '자본금', '영업활동현금흐름', '투자활동현금흐름',
       '재무활동현금흐름', 'CAPEX', 'FCF', '이자발생부채', '영업이익률', '순이익률', 'ROE(%)',
       'ROA(%)', '부채비율', '자본유보율', 'EPS(원)', 'PER(배)', 'BPS(원)', 'PBR(배)',
       '현금DPS(원)', '현금배당수익률', '현금배당성향(%)', '발행주식수(보통주)'],
      dtype='object', name='주요재무정보')</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 인덱스 확인</span>

<span class="n">dft</span><span class="o">.</span><span class="n">index</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[12]:</div>



<div class="output_text output_subarea output_execute_result">
<pre>DatetimeIndex(['2011-12-01', '2012-12-01', '2013-12-01', '2014-12-01',
               '2015-12-01', '2016-12-01', '2017-12-01', '2018-12-01'],
              dtype='datetime64[ns]', freq=None)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="정리:-함수로-만들기">정리: 함수로 만들기<a class="anchor-link" href="naver-finance-finstate-crawling.html#%EC%A0%95%EB%A6%AC:-%ED%95%A8%EC%88%98%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0">¶</a>
</h2>
<p>재사용하기 위해 앞선 내용을 정리하여 함수로 만든다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="k">import</span> <span class="n">BeautifulSoup</span>

<span class="sd">'''</span>
<span class="sd">get_date_str(s) - 문자열 s 에서 "YYYY/MM" 문자열 추출</span>
<span class="sd">'''</span>
<span class="k">def</span> <span class="nf">get_date_str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">date_str</span> <span class="o">=</span> <span class="s1">''</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">"\d</span><span class="si">{4}</span><span class="s2">/\d</span><span class="si">{2}</span><span class="s2">"</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="p">:</span>
        <span class="n">date_str</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
        <span class="n">date_str</span> <span class="o">=</span> <span class="n">date_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'/'</span><span class="p">,</span> <span class="s1">'-'</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">date_str</span>

<span class="sd">'''</span>
<span class="sd">* code: 종목코드</span>
<span class="sd">* fin_type = '0': 재무제표 종류 (0: 주재무제표, 1: GAAP개별, 2: GAAP연결, 3: IFRS별도, 4:IFRS연결)</span>
<span class="sd">* freq_type = 'Y': 기간 (Y:년, Q:분기)</span>
<span class="sd">'''</span>
<span class="k">def</span> <span class="nf">get_finstate_naver</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">fin_type</span><span class="o">=</span><span class="s1">'0'</span><span class="p">,</span> <span class="n">freq_type</span><span class="o">=</span><span class="s1">'Y'</span><span class="p">):</span>
    <span class="n">url_tmpl</span> <span class="o">=</span> <span class="s1">'http://companyinfo.stock.naver.com/v1/company/ajax/cF1001.aspx?'</span> \
                   <span class="s1">'cmp_cd=</span><span class="si">%s</span><span class="s1">&amp;fin_typ=</span><span class="si">%s</span><span class="s1">&amp;freq_typ=</span><span class="si">%s</span><span class="s1">'</span>

    <span class="n">url</span> <span class="o">=</span> <span class="n">url_tmpl</span> <span class="o">%</span> <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">fin_type</span><span class="p">,</span> <span class="n">freq_type</span><span class="p">)</span>
    <span class="c1">#print(url)</span>

    <span class="n">dfs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">'해당 데이터가 존재하지 않습니다'</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">'주요재무정보'</span><span class="p">:</span><span class="s1">'date'</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'date'</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">'연간'</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span> <span class="n">cols</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">'연간'</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">'분기'</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span> <span class="n">cols</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">'분기'</span><span class="p">)</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_date_str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">]</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">ix</span><span class="p">[:,</span> <span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">cols</span>
    <span class="n">dft</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">T</span>
    <span class="n">dft</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dft</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

    <span class="c1"># remove if index is NaT</span>
    <span class="n">dft</span> <span class="o">=</span> <span class="n">dft</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">notnull</span><span class="p">(</span><span class="n">dft</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>
    <span class="k">return</span> <span class="n">dft</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 삼성전자 (년간, IFRS연결)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">get_finstate_naver</span><span class="p">(</span><span class="s1">'005930'</span><span class="p">)</span>
<span class="n">df</span><span class="p">[[</span><span class="s1">'매출액'</span><span class="p">,</span><span class="s1">'영업이익'</span><span class="p">,</span> <span class="s1">'당기순이익'</span><span class="p">,</span> <span class="s1">'영업활동현금흐름'</span><span class="p">,</span> <span class="s1">'순이익률'</span><span class="p">]]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[14]:</div>


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th>date</th>
      <th>매출액</th>
      <th>영업이익</th>
      <th>당기순이익</th>
      <th>영업활동현금흐름</th>
      <th>순이익률</th>
    </tr></thead>
<tbody>
<tr>
<th>2011-12-01</th>
      <td>1650018</td>
      <td>156443</td>
      <td>137590</td>
      <td>229179</td>
      <td>8.34</td>
    </tr>
<tr>
<th>2012-12-01</th>
      <td>2011036</td>
      <td>290493</td>
      <td>238453</td>
      <td>379728</td>
      <td>11.86</td>
    </tr>
<tr>
<th>2013-12-01</th>
      <td>2286927</td>
      <td>367850</td>
      <td>304748</td>
      <td>467074</td>
      <td>13.33</td>
    </tr>
<tr>
<th>2014-12-01</th>
      <td>2062060</td>
      <td>250251</td>
      <td>233944</td>
      <td>369754</td>
      <td>11.34</td>
    </tr>
<tr>
<th>2015-12-01</th>
      <td>2006535</td>
      <td>264134</td>
      <td>190601</td>
      <td>400618</td>
      <td>9.50</td>
    </tr>
<tr>
<th>2016-12-01</th>
      <td>2004675</td>
      <td>282505</td>
      <td>220057</td>
      <td>455796</td>
      <td>10.98</td>
    </tr>
<tr>
<th>2017-12-01</th>
      <td>2208352</td>
      <td>411526</td>
      <td>314203</td>
      <td>516450</td>
      <td>14.23</td>
    </tr>
<tr>
<th>2018-12-01</th>
      <td>2331110</td>
      <td>438342</td>
      <td>335387</td>
      <td>557257</td>
      <td>14.39</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="활용-예">활용 예<a class="anchor-link" href="naver-finance-finstate-crawling.html#%ED%99%9C%EC%9A%A9-%EC%98%88">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#df = get_finstate_naver('035720') # 셀트리온 068270 </span>
<span class="n">df</span> <span class="o">=</span> <span class="n">get_finstate_naver</span><span class="p">(</span><span class="s1">'035720'</span><span class="p">)</span> <span class="c1"># 카카오 035720</span>
<span class="c1">#df = get_finstate_naver('035720') # CJ E&amp;M 130960</span>
<span class="c1">#df = get_finstate_naver('035720') # 메디톡스 086900</span>

<span class="n">df</span><span class="p">[[</span><span class="s1">'ROE(%)'</span><span class="p">,</span> <span class="s1">'ROA(%)'</span><span class="p">,</span> <span class="s1">'부채비율'</span><span class="p">,</span> <span class="s1">'자본유보율'</span><span class="p">,</span> <span class="s1">'EPS(원)'</span><span class="p">,</span> <span class="s1">'PER(배)'</span><span class="p">,</span> <span class="s1">'BPS(원)'</span><span class="p">,</span> <span class="s1">'PBR(배)'</span><span class="p">]]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[15]:</div>


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th>date</th>
      <th>ROE(%)</th>
      <th>ROA(%)</th>
      <th>부채비율</th>
      <th>자본유보율</th>
      <th>EPS(원)</th>
      <th>PER(배)</th>
      <th>BPS(원)</th>
      <th>PBR(배)</th>
    </tr></thead>
<tbody>
<tr>
<th>2011-12-01</th>
      <td>26.86</td>
      <td>21.45</td>
      <td>22.46</td>
      <td>6533.61</td>
      <td>8079</td>
      <td>14.85</td>
      <td>34031</td>
      <td>3.53</td>
    </tr>
<tr>
<th>2012-12-01</th>
      <td>15.70</td>
      <td>13.09</td>
      <td>17.68</td>
      <td>7376.32</td>
      <td>5656</td>
      <td>16.11</td>
      <td>38158</td>
      <td>2.39</td>
    </tr>
<tr>
<th>2013-12-01</th>
      <td>17.73</td>
      <td>14.81</td>
      <td>22.53</td>
      <td>728.30</td>
      <td>4532</td>
      <td>18.54</td>
      <td>13398</td>
      <td>6.27</td>
    </tr>
<tr>
<th>2014-12-01</th>
      <td>11.41</td>
      <td>10.04</td>
      <td>12.37</td>
      <td>8411.95</td>
      <td>6116</td>
      <td>20.21</td>
      <td>42337</td>
      <td>2.92</td>
    </tr>
<tr>
<th>2015-12-01</th>
      <td>3.02</td>
      <td>2.65</td>
      <td>23.32</td>
      <td>8407.52</td>
      <td>1269</td>
      <td>91.24</td>
      <td>42476</td>
      <td>2.73</td>
    </tr>
<tr>
<th>2016-12-01</th>
      <td>1.87</td>
      <td>1.49</td>
      <td>48.06</td>
      <td>NaN</td>
      <td>828</td>
      <td>94.18</td>
      <td>48994</td>
      <td>1.59</td>
    </tr>
<tr>
<th>2017-12-01</th>
      <td>3.43</td>
      <td>2.53</td>
      <td>45.85</td>
      <td>NaN</td>
      <td>1719</td>
      <td>51.25</td>
      <td>51292</td>
      <td>1.72</td>
    </tr>
<tr>
<th>2018-12-01</th>
      <td>4.53</td>
      <td>3.36</td>
      <td>44.74</td>
      <td>NaN</td>
      <td>2375</td>
      <td>37.09</td>
      <td>53621</td>
      <td>1.64</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">df</span><span class="p">[[</span><span class="s1">'ROE(%)'</span><span class="p">,</span> <span class="s1">'ROA(%)'</span><span class="p">]]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt output_prompt">Out[16]:</div>



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0x7f33d7b0c278&gt;</pre>
</div>

</div>

<div class="output_area">
<div class="prompt"></div>



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="csv로-저장">csv로 저장<a class="anchor-link" href="naver-finance-finstate-crawling.html#csv%EB%A1%9C-%EC%A0%80%EC%9E%A5">¶</a>
</h2>
<p>DataFrmae (재무제표 데이터)를 .csv로 저장하고자 한다면,</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'035720.csv'</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 확인</span>
<span class="o">!</span> head <span class="m">035720</span>.csv
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">
<div class="prompt"></div>

<div class="output_subarea output_stream output_stdout output_text">
<pre>,매출액,영업이익,세전계속사업이익,당기순이익,당기순이익(지배),당기순이익(비지배),자산총계,부채총계,자본총계,자본총계(지배),자본총계(비지배),자본금,영업활동현금흐름,투자활동현금흐름,재무활동현금흐름,CAPEX,FCF,이자발생부채,영업이익률,순이익률,ROE(%),ROA(%),부채비율,자본유보율,EPS(원),PER(배),BPS(원),PBR(배),현금DPS(원),현금배당수익률,현금배당성향(%),발행주식수(보통주)
2011-12-01,4213.0,1168.0,1274.0,1080.0,1085.0,-5.0,5587.0,1025.0,4562.0,4565.0,-3.0,68.0,1118.0,-1140.0,-140.0,428.0,690.0,6.0,27.71,25.63,26.86,21.45,22.46,6533.61,8079.0,14.85,34031.0,3.53,1607.0,1.34,19.9,13454569.0
2012-12-01,4534.0,1018.0,1009.0,766.0,763.0,4.0,6119.0,919.0,5199.0,5153.0,46.0,68.0,1233.0,-513.0,-322.0,368.0,865.0,1.0,22.44,16.9,15.7,13.09,17.68,7376.32,5656.0,16.11,38158.0,2.39,1110.0,1.22,19.65,13504829.0
2013-12-01,2108.0,659.0,604.0,614.0,614.0,0.0,2172.0,399.0,1773.0,1773.0,0.0,210.0,705.0,-583.0,12.0,133.0,572.0,,31.24,29.13,17.73,14.81,22.53,728.3,4532.0,18.54,13398.0,6.27,1133.0,1.35,24.41,13560229.0
2014-12-01,4989.0,1764.0,1688.0,1498.0,1501.0,-3.0,27680.0,3048.0,24632.0,24546.0,86.0,291.0,2203.0,1726.0,354.0,128.0,2075.0,3.0,35.37,30.03,11.41,10.04,12.37,8411.95,6116.0,20.21,42337.0,2.92,173.0,0.14,6.68,58142204.0
2015-12-01,9322.0,886.0,1095.0,788.0,757.0,31.0,31885.0,6030.0,25855.0,25524.0,331.0,301.0,1622.0,-4142.0,1972.0,761.0,861.0,2218.0,9.5,8.45,3.02,2.65,23.32,8407.52,1269.0,91.24,42476.0,2.73,167.0,0.14,13.26,60096088.0
2016-12-01,14295.0,1129.0,920.0,619.0,547.0,,51254.0,16650.0,34646.0,33125.0,,337.0,3270.0,-10317.0,10341.0,788.0,-1165.0,,7.9,4.33,1.87,1.49,48.06,,828.0,94.18,48994.0,1.59,160.0,0.2,0.19,
2017-12-01,18179.0,1949.0,1828.0,1318.0,1163.0,,52925.0,16640.0,36296.0,34704.0,,338.0,3042.0,-1292.0,-372.0,670.0,2569.0,,10.72,7.25,3.43,2.53,45.85,,1719.0,51.25,51292.0,1.72,177.0,0.2,0.1,
2018-12-01,20370.0,2632.0,2519.0,1814.0,1607.0,,55021.0,17008.0,38013.0,36279.0,,338.0,3661.0,-1409.0,-270.0,694.0,3075.0,,12.92,8.9,4.53,3.36,44.74,,2375.0,37.09,53621.0,1.64,195.0,0.22,0.08,
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="요약">요약<a class="anchor-link" href="naver-finance-finstate-crawling.html#%EC%9A%94%EC%95%BD">¶</a>
</h2>
<ul>
<li>파이썬 데이터 크롤링, requests를 주로 사용하지만 TABLE에 pandas.read_html()를 사용하여 간결하게 처리할 수 있다.</li>
<li>정규식을 사용하여 문자열을 추출하는 것이 유연성과 적응성이 뛰어나다. (replace 같은 문자열 처리함수를 사용하는 것 보다.</li>
<li>pandas.DataFrame의 컬럼, 인덱스 조작을 통해 DataFrame을 적절하게 가공할 수 있다.</li>
<li>DataFrame으로 만들어지면 파일(csv, excel, RDB)등으로 변환하기 좋고, 시각화 하기도 용이하다.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="2017-https://facebook.com/financedata">2017 <a href="https://facebook.com/financedata">https://facebook.com/financedata</a><a class="anchor-link" href="naver-finance-finstate-crawling.html#2017-https://facebook.com/financedata">¶</a>
</h5>
</div>
</div>
</div>
    </div>
  </div>

    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/crawling.html" rel="tag">crawling</a></li>
            <li><a class="tag p-category" href="../categories/naver.html" rel="tag">naver</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="jupyter-notebook-authentication.html" rel="prev" title="[FAQ] Jupyter Notebook 실행시 토큰을 입력하라고 나옵니다">이전 포스트</a>
            </li>
            <li class="next">
                <a href="dataframe-extract-rows-and-concat-as-column.html" rel="next" title="[FAQ] (Daum부동산) DataFrame 행 추출과 컬럼으로 합치기">다음 포스트</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>댓글</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="facebook",
            disqus_url="https://financedata.github.com/posts/naver-finance-finstate-crawling.html",
        disqus_title="\ub124\uc774\ubc84 \ud30c\uc774\ub0b8\uc2a4 - \uc7ac\ubb34\uc81c\ud45c \ud06c\ub864\ub9c1",
        disqus_identifier="cache/posts/네이버 파이낸스 - 재무제표 크롤링.html",
        disqus_config = function () {
            this.language = "ko";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article><script>var disqus_shortname="facebook";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2018         <a href="mailto:plusjune@gmail.com">plusjune</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../assets/js/all-nocdn.js"></script><script src="../assets/js/colorbox-i18n/jquery.colorbox-kr.js"></script><!-- Social buttons --><div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
 <a class="addthis_button_more">Share</a>
 <ul>
<li>
<a class="addthis_button_facebook"></a>
 </li>
<li>
<a class="addthis_button_google_plusone_share"></a>
 </li>
<li>
<a class="addthis_button_linkedin"></a>
 </li>
<li>
<a class="addthis_button_twitter"></a>
 </li>
</ul>
</div>
 <script src="https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script><!-- End of social buttons --><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("ko");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92851530-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
